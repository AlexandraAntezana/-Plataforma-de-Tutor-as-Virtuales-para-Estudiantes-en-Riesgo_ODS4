DELIMITER $$
CREATE TRIGGER tr_validar_horario
BEFORE INSERT ON sesion_tutoria
FOR EACH ROW
BEGIN
  IF TIME(NEW.fecha_hora) < '07:00:00' OR TIME(NEW.fecha_hora) > '22:00:00' THEN
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Horario fuera del rango permitido';
  END IF;
END$$
DELIMITER ;
